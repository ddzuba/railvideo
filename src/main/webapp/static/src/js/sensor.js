var temp = {
  'ChannelHeader{sensorName=\'angle_sensor_1\', sensorType=\'angle_sensor\', channel=\'axis_X\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': -69.36599121416904,
    'maxValue': 54.25848912239328,
    'averageValue': -1.0588717101338432
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': -60.77431080566545,
    'maxValue': 14.270059904783757,
    'averageValue': -29.965500373397063
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': -75.89070395617263,
    'maxValue': 81.14568051154541,
    'averageValue': -66.0212935696729
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': -91.19344877423299,
    'maxValue': -22.02605813237809,
    'averageValue': -59.75826726360569
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': 9.307299669912993,
    'maxValue': 66.25707573427171,
    'averageValue': 60.7569037605428
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': -71.66075600186481,
    'maxValue': 72.64858100896564,
    'averageValue': -37.110242211618555
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': -70.46651577811066,
    'maxValue': -15.977780420509717,
    'averageValue': -58.37928016067706
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': 66.00448582914461,
    'maxValue': 84.17859463455684,
    'averageValue': 82.87605201235371
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': -87.98997973332702,
    'maxValue': 83.25087621060206,
    'averageValue': 41.775429846213456
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': -55.987541619991156,
    'maxValue': 54.71044073033999,
    'averageValue': -31.38450137100802
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': -65.04863078005994,
    'maxValue': 66.56970552030407,
    'averageValue': -64.68305339833529
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': -51.57623093610149,
    'maxValue': -9.315808933100236,
    'averageValue': -33.15609334004736
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': -85.81639735255143,
    'maxValue': 51.50559632779854,
    'averageValue': -72.86515544167258
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': -51.93521850171019,
    'maxValue': 22.31272411472166,
    'averageValue': -43.462386207601426
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': -39.0979176459726,
    'maxValue': 84.39190457367137,
    'averageValue': 71.64751048317592
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': -22.541997967752508,
    'maxValue': 82.73103223101981,
    'averageValue': -9.429627075858193
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': -11.866940004912806,
    'maxValue': 89.42546636804013,
    'averageValue': 43.0028383811445
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': -52.08130268605873,
    'maxValue': 79.99466290990367,
    'averageValue': 67.8882278975581
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': -89.21089712368486,
    'maxValue': 70.06406325080913,
    'averageValue': -61.83181511563062
  }, {
    'startTime': 1504019425454,
    'endTime': 1504019426513,
    'minValue': -52.81122358249153,
    'maxValue': 71.74912761278796,
    'averageValue': 5.38576290740545
  }],
  'ChannelHeader{sensorName=\'angle_sensor_1\', sensorType=\'angle_sensor\', channel=\'axis_Y\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': -31.363272839245962,
    'maxValue': 16.97245285649685,
    'averageValue': -2.9804771388431064
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': -12.982743998575117,
    'maxValue': 42.221674298369614,
    'averageValue': 7.729540710620796
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': -24.960641955010693,
    'maxValue': 42.38466183911956,
    'averageValue': -3.036311088133438
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': -44.55491987465637,
    'maxValue': 6.764974502810766,
    'averageValue': -29.69371098324332
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': -45.36360051359978,
    'maxValue': 30.961007471543986,
    'averageValue': 3.4341745559748986
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': -28.383551662844365,
    'maxValue': 25.648267254206175,
    'averageValue': -4.358223073646627
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': -29.657155970144608,
    'maxValue': 10.002986386638142,
    'averageValue': -16.25308724692109
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': -7.768091222863632,
    'maxValue': 45.376317734348056,
    'averageValue': 38.68710867317196
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': -30.48084234341384,
    'maxValue': 21.916217931047065,
    'averageValue': -25.539503620391372
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': -47.261418572880515,
    'maxValue': -23.866704428239,
    'averageValue': -42.25131683112262
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': 10.208616560411897,
    'maxValue': 46.92295025031133,
    'averageValue': 24.80124397114193
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': -42.438768536187204,
    'maxValue': 47.283188339672826,
    'averageValue': 47.18870010404501
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': -43.915483668090836,
    'maxValue': 33.820500846622735,
    'averageValue': 17.874717551744226
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': -30.8988969212184,
    'maxValue': 16.566927000547228,
    'averageValue': -19.73896735772703
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': -44.943107953140164,
    'maxValue': 45.83350388200442,
    'averageValue': -20.400507465000416
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': -2.898730072176093,
    'maxValue': 8.46131524250874,
    'averageValue': -1.7135643463707169
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': -32.79051397044801,
    'maxValue': -0.5252375112224819,
    'averageValue': -12.720525478463692
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': -32.44462371883246,
    'maxValue': 15.40671419013595,
    'averageValue': -16.109292464422765
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': -43.457554382309695,
    'maxValue': 9.410595399612042,
    'averageValue': -43.015492338477635
  }, {
    'startTime': 1504019425454,
    'endTime': 1504019426513,
    'minValue': -37.39395403027319,
    'maxValue': 20.150003448096204,
    'averageValue': -31.36904319849921
  }],
  'ChannelHeader{sensorName=\'angle_sensor_1\', sensorType=\'angle_sensor\', channel=\'axis_Z\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': -19.70555323980593,
    'maxValue': 22.04515394924706,
    'averageValue': -4.511913482323685
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': -28.15634274312692,
    'maxValue': 28.218871144923796,
    'averageValue': 18.802424830444266
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': 21.833233481293504,
    'maxValue': 26.665976323020388,
    'averageValue': 21.976359784554617
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': -21.070516541717396,
    'maxValue': 25.484388061665893,
    'averageValue': 25.446080749234405
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': 5.157987001551902,
    'maxValue': 26.968526245677438,
    'averageValue': 19.928071713958488
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': -24.2612550547182,
    'maxValue': 28.148650657832793,
    'averageValue': -5.867436432179321
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': -9.801319430851311,
    'maxValue': 11.194251976236052,
    'averageValue': -0.8314564788602716
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': -26.53715837850337,
    'maxValue': 2.36281203423723,
    'averageValue': -16.69954616453471
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': -26.869317779499735,
    'maxValue': 20.735007468223884,
    'averageValue': 19.81689817331086
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': -8.389718023056858,
    'maxValue': 24.229814312545546,
    'averageValue': 8.030890096322018
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': -28.379593947973365,
    'maxValue': -9.31137626949009,
    'averageValue': -27.986350182752112
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': -26.266420086946454,
    'maxValue': 19.618373823681726,
    'averageValue': -14.596627592015903
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': -10.301757078593269,
    'maxValue': 24.003969509370066,
    'averageValue': 12.535303409137065
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': -24.505153604820343,
    'maxValue': 16.22901808420801,
    'averageValue': -23.201696838318913
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': -16.868389028133166,
    'maxValue': 22.629278663608005,
    'averageValue': 9.251355120362241
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': 11.212129072999055,
    'maxValue': 24.598374284121675,
    'averageValue': 19.083960115326256
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': -14.678013649129396,
    'maxValue': 26.164658213438916,
    'averageValue': 0.9724816056757994
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': -20.872468298488776,
    'maxValue': -12.352701273672167,
    'averageValue': -19.290840250494597
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': -18.69898820853691,
    'maxValue': 26.295117970778307,
    'averageValue': 10.262302716801706
  }, {
    'startTime': 1504019425454,
    'endTime': 1504019426513,
    'minValue': -11.879280783690614,
    'maxValue': 22.199484753762505,
    'averageValue': -9.41331075253369
  }],
  'ChannelHeader{sensorName=\'angle_sensor_2\', sensorType=\'angle_sensor\', channel=\'axis_X\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': 12.508156946922071,
    'maxValue': 186.43717387957057,
    'averageValue': 186.29901175471065
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': 6.79147368666267,
    'maxValue': 172.98883875558704,
    'averageValue': 45.06513864246779
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': -188.2919487800107,
    'maxValue': 17.694518285021104,
    'averageValue': -188.1458879079537
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': -177.54114839992747,
    'maxValue': 117.54403824551599,
    'averageValue': -43.13072433690988
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': -46.86978499262119,
    'maxValue': 187.40004044733075,
    'averageValue': 68.0506557902574
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': -115.06000126001109,
    'maxValue': 142.0458599892657,
    'averageValue': 78.29630989287836
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': -174.68486014303468,
    'maxValue': -39.00711138500096,
    'averageValue': -99.11111645099194
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': -172.09910484220632,
    'maxValue': 129.46593589819685,
    'averageValue': 15.579288294951482
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': -162.91505710543075,
    'maxValue': -53.29036545095359,
    'averageValue': -139.93462592699976
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': 27.316978137435342,
    'maxValue': 156.210929448417,
    'averageValue': 51.222354323989634
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': -189.9498983659864,
    'maxValue': 81.42962706987308,
    'averageValue': -187.89024546424216
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': -163.37068293532346,
    'maxValue': 48.67236670869309,
    'averageValue': -54.836725019187185
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': -189.41949864214033,
    'maxValue': -108.90383627633926,
    'averageValue': -188.7293740945114
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': -127.816258226124,
    'maxValue': 139.60287412424432,
    'averageValue': -116.91709900683011
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': -164.05792007416952,
    'maxValue': 30.709707352086937,
    'averageValue': -95.82412378336127
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': -40.59420371594908,
    'maxValue': 189.04938821448582,
    'averageValue': 157.07223899301295
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': -118.35423908203666,
    'maxValue': 104.18610155024194,
    'averageValue': -35.63176642197527
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': 32.83317675479543,
    'maxValue': 144.72787388435964,
    'averageValue': 139.51598229896092
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': -54.21413400252865,
    'maxValue': 91.14425176983015,
    'averageValue': -5.05499623712717
  }, {
    'startTime': 1504019425454,
    'endTime': 1504019426513,
    'minValue': -189.84985596448257,
    'maxValue': -0.10667522599885615,
    'averageValue': -189.75252602960055
  }],
  'ChannelHeader{sensorName=\'angle_sensor_2\', sensorType=\'angle_sensor\', channel=\'axis_Y\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': -127.33646298808684,
    'maxValue': 11.660061032246574,
    'averageValue': -108.39078348989909
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': -106.0577325945091,
    'maxValue': -53.44814937642781,
    'averageValue': -70.2998941891837
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': -91.80729399190096,
    'maxValue': 16.865905921736427,
    'averageValue': -73.32245314349683
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': -141.5715752348863,
    'maxValue': 133.40335062997994,
    'averageValue': 118.88431256081532
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': -17.157435238904156,
    'maxValue': 57.55179912165898,
    'averageValue': 21.027898793235465
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': -65.54335214967587,
    'maxValue': 121.63347680348146,
    'averageValue': 93.25351788434668
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': -105.74079442200744,
    'maxValue': 48.690300122883926,
    'averageValue': -35.90776763259228
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': -140.1705552001408,
    'maxValue': -103.47349622424639,
    'averageValue': -133.4740514632077
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': -67.87530199986422,
    'maxValue': 3.730764332692651,
    'averageValue': -48.21062026662591
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': -115.7329779123595,
    'maxValue': 46.848494299074105,
    'averageValue': 21.844323245813086
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': -18.326253347667773,
    'maxValue': 102.07694581374567,
    'averageValue': 2.605476719479043
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': -123.20845153811507,
    'maxValue': 6.989988395550412,
    'averageValue': -82.92568640856356
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': -93.11667601822214,
    'maxValue': 62.50530784051196,
    'averageValue': -86.32024921485723
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': -10.03968477319438,
    'maxValue': 100.17804069703597,
    'averageValue': 94.19058666992575
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': -92.96969511355942,
    'maxValue': 130.71885418367188,
    'averageValue': 82.67543089717404
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': -69.325584408022,
    'maxValue': 47.812444778935514,
    'averageValue': 32.71397291112635
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': 91.54441829324091,
    'maxValue': 136.12546363592327,
    'averageValue': 120.90624666217843
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': 10.526409309882752,
    'maxValue': 109.60225957457642,
    'averageValue': 79.8933886903292
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': -139.66620883446703,
    'maxValue': 113.72091431943475,
    'averageValue': -36.999883607292745
  }, {
    'startTime': 1504019425454,
    'endTime': 1504019426513,
    'minValue': -109.20618014701628,
    'maxValue': 44.841405707477634,
    'averageValue': -108.94145996669818
  }],
  'ChannelHeader{sensorName=\'angle_sensor_2\', sensorType=\'angle_sensor\', channel=\'axis_Z\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': -89.71520802820395,
    'maxValue': -71.74163337276738,
    'averageValue': -85.61739302859431
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': -59.54725658361722,
    'maxValue': 26.610817432645277,
    'averageValue': 20.70204600352986
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': -81.82038256337071,
    'maxValue': 47.00853902725062,
    'averageValue': -7.26386993828973
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': -44.935037674855295,
    'maxValue': 43.31416089137644,
    'averageValue': -8.792068086228454
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': -121.43555346053341,
    'maxValue': 41.685710645442896,
    'averageValue': -119.5970665688748
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': -16.188546667893092,
    'maxValue': 120.76677154886255,
    'averageValue': 104.49068102848386
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': -117.17616414388517,
    'maxValue': 23.208288863419796,
    'averageValue': -116.66965039707833
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': -83.8901917525024,
    'maxValue': 122.24388167277685,
    'averageValue': 1.5851619200680176
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': 66.19943944079711,
    'maxValue': 95.06804804774042,
    'averageValue': 88.83711413295669
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': -106.9500414267377,
    'maxValue': -61.01125537423159,
    'averageValue': -92.72984412029192
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': -102.8116062308876,
    'maxValue': 122.20722532993003,
    'averageValue': -93.76849083716152
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': -38.77706363715092,
    'maxValue': 121.46740212786459,
    'averageValue': 111.65048850672616
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': -119.03343955611999,
    'maxValue': 69.08128117407001,
    'averageValue': -110.2939133206459
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': -85.9667074394975,
    'maxValue': 115.43051800133117,
    'averageValue': 50.53637130792643
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': 57.96711438240271,
    'maxValue': 116.64953726188021,
    'averageValue': 91.66252180931647
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': -8.646121236904534,
    'maxValue': 100.45503380429733,
    'averageValue': 94.34818874067128
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': -91.15804173665701,
    'maxValue': 43.66686401603375,
    'averageValue': 8.240367796371487
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': -2.980107930742932,
    'maxValue': 121.84345860134084,
    'averageValue': 108.58530663136531
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': 31.456713532242446,
    'maxValue': 107.59449383351657,
    'averageValue': 67.93942269926694
  }, {
    'startTime': 1504019425454,
    'endTime': 1504019426513,
    'minValue': -47.02407314486065,
    'maxValue': 119.12685712598686,
    'averageValue': -40.34737547261683
  }],
  'ChannelHeader{sensorName=\'door_sensor_1\', sensorType=\'door_sensor\', channel=\'door_1\'}': [{
    'startTime': 1504019406,
    'endTime': 1504019406663,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019406663,
    'endTime': 1504019407713,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019407713,
    'endTime': 1504019408759,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019408759,
    'endTime': 1504019409798,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019409798,
    'endTime': 1504019410840,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019410840,
    'endTime': 1504019411884,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019411884,
    'endTime': 1504019412915,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019412915,
    'endTime': 1504019413956,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019413956,
    'endTime': 1504019415004,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019415004,
    'endTime': 1504019416059,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019416059,
    'endTime': 1504019417097,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019417097,
    'endTime': 1504019418149,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019418149,
    'endTime': 1504019419207,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019419207,
    'endTime': 1504019420253,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019420253,
    'endTime': 1504019421298,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019421298,
    'endTime': 1504019422339,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019422339,
    'endTime': 1504019423376,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019423376,
    'endTime': 1504019424411,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {
    'startTime': 1504019424411,
    'endTime': 1504019425454,
    'minValue': 0.0,
    'maxValue': 0.0,
    'averageValue': 0.0
  }, {'startTime': 1504019425454, 'endTime': 1504019426513, 'minValue': 0.0, 'maxValue': 0.0, 'averageValue': 0.0}]
};

var table;

function setGraph(id, series) {
  var myChart = Highcharts.chart(id, {
    title: {
      text: ''
    },
    legend: {
      enabled: false
    },
    chart: {
      type: 'line',
    },
    yAxis: {
      title: {
        text: 'Значение'
      }
    },
    xAxis: {
      type: 'datetime',
      title: {
        text: 'Дата'
      }
    },
    series: series
  });
}

function render(data) {
  console.log("Render started")
  var list = [];
  for (var i in data) {
    var name = i.match(/sensorName='([\w]+)'/).pop();
    var type = i.match(/sensorType='([\w]+)'/).pop();
    var channel = i.match(/channel='([\w]+)'/).pop();
    var id = name + Math.random() * 100000;

    var last = data[i][data[i].length - 1];
    last.time = Highcharts.dateFormat('%H:%M:%S', new Date(last.endTime).getTime());

    console.log(last)

    var graph = {name: name, data: []};
    for (var j in data[i]) {
      var now = data[i][j];
      graph.data.push([new Date(now.endTime).getTime(), now.averageValue]);
    }

    var obj = {id: id, name: name, type: type, channel: channel, data: last, graph: graph};
    list.push(obj);
  }

  $('#main').html(table({list: list}));

  for (var i in list) {
    var now = list[i];
    setGraph('graph-' + now.id, [now.graph]);
  }

}

$(function () {
  //table = Handlebars.getTemplate('table');
  table = Handlebars.getTemplate('sensor')
  setInterval($.get('/sensors/stats', render), 5000);
});